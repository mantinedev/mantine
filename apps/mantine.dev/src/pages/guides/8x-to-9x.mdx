import { PopoverDemos, HooksDemos } from '@docs/demos';
import { Layout } from '@/layout';
import { MDX_DATA } from '@/mdx';

export default Layout(MDX_DATA.EightToNine);

# 8.x → 9.x migration guide

## Text color prop

`color` prop of [Text](/core/text) and [Anchor](/core/anchor) components was removed.
Use `c` [style prop](/styles/style-props) instead:

```tsx
import { Text } from '@mantine/core';

// ❌ No longer works
function Demo() {
  return <Text color="red">Text</Text>;
}

// ✅ Use c style prop
function Demo() {
  return <Text c="red">Text</Text>;
}
```

## Form resolvers

`@mantine/form` package no longer exports schema resolvers, use [dedicated packages](/form/schema-validation/) instead:

Example with 8.x:

```tsx
import { z } from 'zod';
// ❌ No longer works, zodResolver is not exported from @mantine/form
import { useForm, zodResolver } from '@mantine/form';

const schema = z.object({
  email: z.string().email({ message: 'Invalid email' }),
});

const form = useForm({
  initialValues: {  email: '' },
  validate: zodResolver(schema),
});
```

Example with 9.x:

```tsx
import { z } from 'zod';
import { useForm } from '@mantine/form';
// ✅ Use dedicated package for zod resolver
import { zodResolver } from 'mantine-form-zod-resolver';

const schema = z.object({
  email: z.string().email({ message: 'Invalid email' }),
});

const form = useForm({
  initialValues: {  email: '' },
  validate: zodResolver(schema),
});
```

## TypographyStylesProvider

- [TypographyStylesProvider](/core/typography) component was renamed to [Typography](/core/typography):

```tsx
// ❌ No longer works
import { TypographyStylesProvider } from '@mantine/core';

// ✅ Use Typography component
import { Typography } from '@mantine/core';
```

## Popover and Tooltip positionDependencies prop

[Popover](/core/popover) and [Tooltip](/core/tooltip) components no longer accept `positionDependencies` prop, it is no longer required
– the position is now calculated automatically.

```tsx
import { Popover } from '@mantine/core';

// ❌ positionDependencies no longer needed
function Demo(props) {
  return (
    <Popover position="top" positionDependencies={[props.a, props.b]}>
      {/* ... */}
    </Popover>
  );
}

// ✅ position is recalculated automatically
function Demo(props) {
  return (
    <Popover position="top">
      {/* ... */}
    </Popover>
  );
}
```

## use-fullscreen hook changes

[use-fullscreen](/hooks/use-fullscreen) hook was split into two hooks: `useFullscreenElement` and `useFullscreenDocument`.
This change was required to fix stale ref issue in the previous implementation.

New usage with `document` element:

<Demo data={HooksDemos.useFullscreenDemo} />

New usage with custom target element:

<Demo data={HooksDemos.useFullscreenRefDemo} />

## Rename hooks types

`@mantine/hooks` types were renamed for consistency, rename them in your codebase:
- `UseScrollSpyReturnType` → `UseScrollSpyReturnValue`
- `StateHistory` → `UseStateHistoryValue`
