import { YearPickerDemos } from '@docs/demos';
import { Layout } from '@/layout';
import { MDX_DATA } from '@/mdx';

export default Layout(MDX_DATA.YearPicker);

## Usage

<Demo data={YearPickerDemos.usage} />

## Allow deselect

Set `allowDeselect` to allow user to deselect current selected date by clicking on it.
`allowDeselect` is disregarded when `type` prop is `range` or `multiple`. When date is
deselected `onChange` is called with `null`.

<Demo data={YearPickerDemos.deselect} />

## Multiple dates

Set `type="multiple"` to allow user to pick multiple dates:

<Demo data={YearPickerDemos.multiple} />

## Dates range

Set `type="range"` to allow user to pick dates range:

<Demo data={YearPickerDemos.range} />

## Single date in range

By default, it is not allowed to select single date as range – when user clicks the same date second time it is deselected.
To change this behavior set `allowSingleDateInRange` prop. `allowSingleDateInRange` is ignored when
`type` prop is not `range`.

<Demo data={YearPickerDemos.singleRange} />

## Default date

Use `defaultDate` prop to set date value that will be used to determine which decade should be displayed initially.
For example to display `2040 – 2049` decade set `defaultDate={new Date(2040, 1)}`. If value is not specified,
then `defaultDate` will use `new Date()`. Month, day, minutes and seconds are ignored in provided date object, only year is used –
you can specify any date value.

Note that if you set `date` prop, then `defaultDate` value will be ignored.

<Demo data={YearPickerDemos.defaultDate} />

## Controlled date

Set `date`, and `onDateChange` props to make currently displayed decade controlled.
By doing so, you can customize date picking experience, for example, when user selects first date in range,
you can add 20 years to current date value:

<Demo data={YearPickerDemos.controlledDate} />

## Min and max date

Set `minDate` and `maxDate` props to define min and max dates. If previous/next page is not available
then corresponding control will be disabled.

<Demo data={YearPickerDemos.minMax} />

## Add props to year control

You can add props to year controls with `getYearControlProps` function. It accepts year date as single argument,
props returned from the function will be added to year control. For example, it can be used to disable specific
control or add styles:

<Demo data={YearPickerDemos.controlProps} />

## Number of columns

Set `numberOfColumns` prop to define number of pickers that will be rendered side by side:

<Demo data={YearPickerDemos.numberOfColumns} />

## Size

<Demo data={YearPickerDemos.sizeConfigurator} />

## Change year controls format

Use `yearsListFormat` to change [dayjs format](https://day.js.org/docs/en/display/format) of year control:

<Demo data={YearPickerDemos.yearsListFormat} />

## Change decade label format

Use `decadeLabelFormat` to change [dayjs format](https://day.js.org/docs/en/display/format) of decade label:

<Demo data={YearPickerDemos.decadeLabelFormat} />

## Accessibility

### Aria labels

Set `ariaLabels` prop to specify `aria-label` attributes for next/previous controls:

```tsx
import { YearPicker } from '@mantine/dates';

function Demo() {
  return (
    <YearPicker
      ariaLabels={{
        nextDecade: 'Next decade',
        previousDecade: 'Previous decade',
      }}
    />
  );
}
```

### Year control aria-label

Use `getYearControlProps` to customize `aria-label` attribute:

```tsx
import { YearPicker } from '@mantine/dates';

function Demo() {
  return (
    <YearPicker
      getYearControlProps={(date) => ({
        'aria-label': `Select year ${date.getFullYear()}`,
      })}
    />
  );
}
```

### Keyboard interactions

Note that the following events will only trigger if focus is on year control.

<KeyboardEventsTable
  data={[
    {
      key: 'ArrowRight',
      description: 'Focuses next non-disabled year',
    },
    {
      key: 'ArrowLeft',
      description: 'Focuses previous non-disabled year',
    },
    {
      key: 'ArrowDown',
      description:
        'Focuses next non-disabled year in the same column',
    },
    {
      key: 'ArrowUp',
      description:
        'Focuses previous non-disabled year in the same column',
    },
  ]}
/>
