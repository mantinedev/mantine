import {
  HooksDemos,
  FloatingWindowDemos,
  OverflowListDemos,
  CardDemos,
  ComboboxDemos,
  CheckboxDemos,
  CollapseDemos,
  HighlightDemos,
  TextInputDemos,
  MultiSelectDemos,
  PaginationDemos,
  MarqueeDemos,
  ScrollerDemos,
  DatePickerInputDemos,
  SimpleGridDemos,
  SliderDemos,
} from '@docs/demos';
import { Layout } from '@/layout';
import { MDX_DATA } from '@/mdx';

export default Layout(MDX_DATA.Changelog900);

## Support Mantine development

You can now sponsor Mantine development with [OpenCollective](https://opencollective.com/mantinedev).
All funds are used to improve Mantine and create new features and components.

<SponsorButton />

## Migration guide

This changelog covers breaking changes and new features in Mantine 9.0.
To migrate your application to Mantine 9.0, follow [8.x → 9.x migration guide](/guides/8x-to-9x).

## Peer dependencies requirements updates

Starting from Mantine 9.0, the following dependencies are required:

- React 19+ for all `@mantine/*` packages
- Tiptap 3+ for `@mantine/tiptap` ([migration guide](/guides/tiptap-3-migration))
- Recharts 3+ for `@mantine/charts` (no migration required)

## Namespace types exports

All Mantine components and hooks now provide namespace exports for related types.
For example, [use-disclosure](/hooks/use-disclosure) hook types can now be accessed like this:

```tsx
import { useDisclosure } from '@mantine/hooks';

const options: useDisclosure.Options = {
  onOpen: () => console.log('open'),
  onClose: () => console.log('close'),
};

function Demo() {
  const [opened, handlers] = useDisclosure(options);
}
```

Example of using namespace types with [Button](/core/button) props type:

```tsx
import { Button } from '@mantine/core';

const buttonProps: Button.Props = {
    variant: 'filled',
    size: 'md',
    disabled: false,
  };

function Demo() {
  return <Button {...buttonProps}>Click me</Button>;
}
```

## Collapse horizontal orientation

[Collapse](/core/collapse) component now supports horizontal orientation:

<Demo data={CollapseDemos.horizontal} />

## use-collapse and use-horizontal-collapse hooks

New `use-collapse` hook is the hook version of [Collapse](/core/collapse) component.
It allows animation of height from `0` to `auto` and vice versa.

<Demo data={HooksDemos.useCollapseDemo} />

`use-horizontal-collapse` works the same way as `use-collapse` but animates width instead of height:

<Demo data={HooksDemos.useHorizontalCollapseDemo} />

## use-floating-window hook

New [use-floating-window](/hooks/use-floating-window) hook allows creating floating draggable
elements:

<Demo data={HooksDemos.useFloatingWindowUsageDemo} />

## FloatingWindow component

[FloatingWindow](/core/floating-window) provides component API for [use-floating-window](/hooks/use-floating-window) hook:

<Demo data={FloatingWindowDemos.usage} />

## OverflowList component

New [OverflowList](/core/overflow-list) component displays list of items and collapses the overflowing items into a single element:

<Demo data={OverflowListDemos.usage} />

## Card horizontal orientation

[Card](/core/card) component now supports horizontal orientation:

<Demo data={CardDemos.horizontal} demoProps={{ defaultExpanded: false }} />

## Checkbox.Group and Switch.Group maxSelectedValues

[Checkbox.Group](/core/checkbox) and [Switch.Group](/core/switch) now support `maxSelectedValues` prop to limit the number of selected values.
When the limit is reached, the remaining controls are disabled and cannot be selected.

<Demo data={CheckboxDemos.maxSelectedValues} />

## Inputs loading state

All Mantine input components based on [Input](/core/input) component now support `loading` prop.

Set `loading` prop to display a loading indicator. By default, the loader is displayed on the right side of the input.
You can change the position with the `loadingPosition` prop to `'left'` or `'right'`. This is useful for async operations like API calls, searches, or validations:

<Demo data={TextInputDemos.loading} />

## renderPill in MultiSelect and TagsInput

[MultiSelect](/core/multi-select) and [TagsInput](/core/tags-input) components now support `renderPill` prop to customize pill rendering:

<Demo data={MultiSelectDemos.renderPill} />

## Clear section mode

All clearable input components now support `clearSectionMode` prop that determines how the clear button and `rightSection` are rendered:

- `'both'` (default) – render both the clear button and `rightSection`
- `'rightSection'` – render only the user-supplied `rightSection`, ignore clear button
- `'clear'` – render only the clear button, ignore `rightSection`

This prop is supported by [Select](/core/select), [Autocomplete](/core/autocomplete),
[MultiSelect](/core/multi-select), [TagsInput](/core/tags-input), [FileInput](/core/file-input),
[DateInput](/dates/date-input), [DatePickerInput](/dates/date-picker-input),
[MonthPickerInput](/dates/month-picker-input), [YearPickerInput](/dates/year-picker-input),
[TimePicker](/dates/time-picker), and [DateTimePicker](/dates/date-time-picker).

<Demo data={DatePickerInputDemos.clearSectionMode} />

## Marquee component

New [Marquee](/core/marquee) component creates continuous scrolling animation for content:

<Demo data={MarqueeDemos.usage} />

## Scroller component

New [Scroller](/core/scroller) component displays horizontally scrollable content with navigation controls.
It supports native scrolling via trackpad, shift + mouse wheel, touch gestures, and mouse drag:

<Demo data={ScrollerDemos.usage} />

## use-scroller hook

New [use-scroller](/hooks/use-scroller) hook provides logic for creating custom scrollable containers with navigation controls:

<Demo data={HooksDemos.useScrollerUsageDemo} demoProps={{ defaultExpanded: false }} />

## use-form TransformedValues type argument

[use-form](/form/use-form) now supports passing second type argument `TransformedValues` to define the type of
transformed values returned by `form.getTransformedValues` and `form.onSubmit`:

```tsx
import { useForm } from '@mantine/form';

interface FormValues {
  name: string;
  locationId: string;
}

interface TransformedValues {
  name: string;
  locationId: number;
}

function Demo() {
  const form = useForm<FormValues, TransformedValues>({
    mode: 'uncontrolled',
    initialValues: {
      name: '',
      locationId: '2',
    },

    transformValues: (values) => ({
      ...values,
      locationId: Number(values.locationId),
    }),
  });
}
```

## Generic components

[SegmentedControl](/core/segmented-control), [Select](/core/select), [MultiSelect](/core/multi-select),
[Chip.Group](/core/chip), [Switch.Group](/core/switch), [Checkbox.Group](/core/checkbox) and [Radio.Group](/core/radio)
now support generic value type. You can pass primitive values (numbers, strings, boolean, null)
as the type argument. The generic type is used for `value`, `defaultValue`, `onChange` and other props.

For example, generic type can now be used with [SegmentedControl](/core/segmented-control)
to specify string union:

```tsx
import { SegmentedControl } from '@mantine/core';

function Demo() {
  return (
    <SegmentedControl<'orange' | 'grape' | 'apple'>
      data={[
        { value: 'orange', label: 'Orange' },
        { value: 'grape', label: 'Grape' },
        { value: 'apple', label: 'Apple' },
      ]}
    />
  );
}
```

## Combobox virtualization (alpha)

[Combobox](/core/combobox) component now supports [virtualization](/core/combobox/#virtualization).
Virtualization support is currently in alpha stage and the API may change in future releases. You
are welcome to try it out and provide feedback.

Example of implementation with `useVirtualizedCombobox` and [react-virtuoso](https://virtuoso.dev/):

<Demo data={ComboboxDemos.virtualized} />

## Highlight per-term colors

[Highlight](/core/highlight) component now supports custom colors for individual highlight terms.
You can provide an array of objects with `text` and `color` properties to assign different colors
to different highlighted terms:

<Demo data={HighlightDemos.colors} />

## Highlight whole-word matching

[Highlight](/core/highlight) component now supports `wholeWord` prop to match only complete words.
When enabled, 'the' will not match 'there' or 'theme':

<Demo data={HighlightDemos.wholeword} />

## Pagination and use-pagination startValue

[Pagination](/core/pagination) component and [use-pagination](/hooks/use-pagination) hook now support `startValue` prop
to define the starting page number. For example, with `startValue={5}` and `total={15}`,
the pagination range will be from 5 to 15:

<Demo data={PaginationDemos.startValue} />

## Grid improvements

[Grid](/core/grid) component no longer uses negative margins for spacing between columns.
Instead, it now uses native CSS `gap` property, which means you no longer need to use
`overflow="hidden"` to prevent content overflow caused by negative margins.

## Slider vertical orientation

[Slider](/core/slider) and [RangeSlider](/core/slider) components now support vertical orientation:

<Demo data={SliderDemos.vertical} />

## SimpleGrid improvements

[SimpleGrid](/core/simple-grid) component now supports `minColWidth` prop to use CSS Grid `auto-fill`/`auto-fit`
to automatically adjust the number of columns based on available space and minimum column width.
When `minColWidth` is set, the `cols` prop is ignored. Use `autoFlow` prop to switch between
`auto-fill` (default) and `auto-fit` behavior.

<Demo data={SimpleGridDemos.minColWidth} />

[SimpleGrid](/core/simple-grid) also now supports `autoRows` prop to control the size of
implicitly created grid rows:

<Demo data={SimpleGridDemos.autoRows} />

## Documentation updates

- New [Custom components](/guides/custom-components) guide explaining how to create custom components with Mantine's styling system
- New [Controlled vs Uncontrolled](/guides/controlled-vs-uncontrolled) guide explaining differences between controlled and uncontrolled components
- [HueSlider](/core/hue-slider) and [AlphaSlider](/core/alpha-slider) components now have their own documentation pages
- Uncontrolled documentation and usage with `FormData` section was added to all inputs components
- [JsonInput](/core/json-input) documentation now includes custom serialization example with `superjson` library
- [Pagination](/core/pagination) documentation now includes URL synchronization examples for Next.js, react-router-dom and nuqs
- [use-form](/form/use-form) documentation now includes separate examples with [all Mantine inputs](/form/all-inputs)

## Other changes

- `light` variant in all components now uses different colors values without transparency to improve contrast
- `mod` prop now converts camelCase keys to kebab-case for data attributes in all components
- `@mantine/form` package no longer exports schema resolvers, use [dedicated packages](/form/schema-validation/) instead
- `createPolymorphicComponent` function was renamed to shorter `polymorphic` for convenience
- All Mantine components now use `font-weight: 600` instead of `font-weight: 500` for better readability
- All Mantine components now support logical margin and padding style props:
  - `mis` - margin-inline-start
  - `mie` - margin-inline-end
  - `pis` - padding-inline-start
  - `pie` - padding-inline-end
- [Tree](/core/tree) component now supports controlled state via `expandedState`, `selectedState` and `checkedState` props.
- [Tree](/core/tree) component no longer defines `data-hovered` attribute for hover state, you need to apply hover styles with `&:hover` instead. This change improves rendering performance by [resolving this issue](https://github.com/mantinedev/mantine/issues/7266).
- [Collapse](/core/collapse) component now uses `expanded` prop instead of `in`
- [Collapse](/core/collapse), [NavLink](/core/nav-link) and [Accordion.Panel](/core/accordion) now support `keepMounted={false}` prop to unmount collapsed content
- [Select](/core/select) and [MultiSelect](/core/multi-select) components now support primitive value types (numbers, booleans, strings) for data and value
- [MultiSelect](/core/multi-select) now supports `onMaxValues` prop, which is called when the user attempts to select more values than `maxValues`
- [TagsInput](/core/tags-input) component now supports `onMaxTags` prop, which is called when the user attempts to add more tags than `maxTags`
- [Accordion](/core/accordion) component now supports `ref` prop
- [Text](/core/text) and [Anchor](/core/anchor) components no longer accept `color` prop, use `c` style prop instead
- [PasswordInput](/core/password-input) component visibility toggle icon was updated
- [Popover](/core/popover) and [Tooltip](/core/tooltip) components no longer accept `positionDependencies` prop, it is no longer required
- [TypographyStylesProvider](/core/typography) component was renamed to [Typography](/core/typography)
- [Checkbox](/core/checkbox) component now supports `readOnly` and `withErrorStyles` props
- [Checkbox.Group](/core/checkbox/#checkboxgroup-with-formdata) and [Switch.Group](/core/switch/#switchgroup-with-formdata) can now be used in uncontrolled forms and can be accessed through `FormData`
- [ColorPicker](/core/color-picker) component now supports `name` and `hiddenInputProps` props to include color value in uncontrolled form submissions
- [Dialog](/core/dialog) now enables `withBorder` by default
- [Pagination](/core/pagination) component now supports `input-` prefix for `size` prop to match input and button sizes
- [FloatingIndicator](/core/floating-indicator) component now supports `onTransitionStart` and `onTransitionEnd` callbacks
- [LoadingOverlay](/core/loading-overlay) component now supports `onEnter`, `onEntered`, `onExit` and `onExited` callbacks
- [Grid](/core/grid) component `gutter` prop was renamed to `gap` for consistency with other layout components. New `rowGap` and `columnGap` props allow separate control of row and column spacing. [Grid.Col](/core/grid) now supports `align` prop for per-column vertical alignment.
- [Indicator](/core/indicator) component now supports:
  - `maxValue` prop to display `{maxValue}+` when the label exceeds the maximum value
  - `showZero` prop (default `true`) to control visibility of indicator with label `0`
  - `offset` prop object with `x` and `y` properties for separate horizontal and vertical offsets
- [NumberInput](/core/number-input) component now supports:
  - `onMinReached` and `onMaxReached` callbacks
  - `selectAllOnFocus` prop to select all text when input is focused
- [RingProgress](/core/ring-progress) component now supports
  - `sectionGap` prop to add visual separation between sections in degrees
  - `startAngle` prop to control where the progress starts (0 = right, 90 = bottom, 180 = left, 270 = top)
- [List](/core/list) component now supports HTML5 list attributes: `start`, `reversed`, and `value` props for enhanced semantic HTML support
- [JsonInput](/core/json-input) component now supports `indentSpaces` prop to control the number of spaces used for formatting JSON
- [Rating](/core/rating) component now supports `allowClear` prop to reset rating to 0 by clicking the same value
- [ScrollArea](/core/scroll-area) component now supports `onLeftReached` and `onRightReached` callbacks for horizontal scroll boundaries
- [use-tree](/core/tree) no longer provides `hoveredNode` and `setHoveredNode` in the returned value
- [use-tree](/core/tree) no longer supports callback state setters for `setExpandedState`, `setSelectedState`, and `setCheckedState` functions
- [use-fullscreen](/hooks/use-fullscreen) hook was split into two hooks: `useFullscreenElement` and `useFullscreenDocument`
- [use-media-query](/hooks/use-media-query) hook no longer includes fallback for old Safari versions (iOS 13 and earlier, released before 2019)
- [use-resize-observer](/hooks/use-resize-observer) now uses the new callback ref approach. The new approach makes hook usable with dynamic node changes. This change might be breaking, validate hook usage in your application.
- [use-mouse](/hooks/use-mouse) hook now uses the new callback ref approach to resolve the issue with stale refs. The previous hook functionality was split into two hooks: `use-mouse` (for ref) and `use-mouse-position` (for document).
- [use-mutation-observer](/hooks/use-mutation-observer) hook now uses the new callback ref approach. The new approach makes hook usable with dynamic node changes. Additionally, a new `useMutationObserverTarget` hook was added for observing external target elements.
- [use-disclosure](/hooks/use-disclosure) hook now supports new `set` handler
- [use-floating-indicator](/hooks/use-floating-indicator) hook now supports `onTransitionStart` and `onTransitionEnd` callbacks
- `@mantine/hooks` types were renamed for consistency:
  - `UseScrollSpyReturnType` → `UseScrollSpyReturnValue`
  - `StateHistory` → `UseStateHistoryValue`
  - `OS` → `UseOSReturnValue`
