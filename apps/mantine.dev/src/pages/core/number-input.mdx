import { NumberInputDemos } from '@docs/demos';
import { Layout } from '@/layout';
import { MDX_DATA } from '@/mdx';

export default Layout(MDX_DATA.NumberInput);

## Usage

`NumberInput` is based on [react-number-format](https://www.npmjs.com/package/react-number-format).
It supports most of the props from the `NumericFormat` component in the original package.

<InputFeatures component="NumberInput" element="input" />

<Demo data={NumberInputDemos.usage} />

## Loading state

Set `loading` prop to display a loading indicator. By default, the loader is displayed on the right side of the input.
You can change the position with the `loadingPosition` prop to `'left'` or `'right'`. This is useful for async operations like API calls, searches, or validations:

<Demo data={NumberInputDemos.loading} />

## Controlled

```tsx
import { useState } from 'react';
import { NumberInput } from '@mantine/core';

function Demo() {
  const [value, setValue] = useState<string | number>('');
  return <NumberInput value={value} onChange={setValue} />;
}
```

## Uncontrolled

`NumberInput` can be used with uncontrolled forms the same way as a native `input[type="number"]`.
Set the `name` attribute to include number input value in `FormData` object on form submission.
To control the initial value in uncontrolled forms, use the `defaultValue` prop.

Example usage of uncontrolled `NumberInput` with `FormData`:

```tsx
import { NumberInput } from '@mantine/core';

function Demo() {
  return (
    <form
      onSubmit={(event) => {
        event.preventDefault();
        const formData = new FormData(event.currentTarget);
        console.log('Number input value:', formData.get('quantity'));
      }}
    >
      <NumberInput
        label="Enter quantity"
        name="quantity"
        defaultValue="1"
        min="1"
        max="100"
      />
      <button type="submit">Submit</button>
    </form>
  );
}
```

## Value type

The `value`, `defaultValue`, and `onChange` props can be either string or number. In all cases
when the `NumberInput` value can be represented as a number, the `onChange` function is called
with a number (for example `55`, `1.28`, `-100`, etc.). But there are several cases when
it is not possible to represent the value as a number:

- Empty state is represented as an empty string – `''`
- Numbers that are larger than `Number.MAX_SAFE_INTEGER - 1` or smaller than `Number.MIN_SAFE_INTEGER + 1` are represented as strings – `'90071992547409910'`
- Numbers that consist of only multiple zeros are represented as strings – `0.`, `0.0`, `-0.00`, etc.

## min and max

Set the `min` and `max` props to limit the input value:

<Demo data={NumberInputDemos.minMax} />

## Clamp behavior

By default, the value is clamped when the input is blurred. If you set `clampBehavior="strict"`,
it will not be possible to enter a value outside of the min/max range. Note that this option
may cause issues if you have tight `min` and `max`, for example `min={10}` and `max={20}`.
If you need to disable value clamping entirely, set `clampBehavior="none"`.

<Demo data={NumberInputDemos.strictClamp} />

## Prefix and suffix

Set the `prefix` and `suffix` props to add a given string to the start or end of the input value:

<Demo data={NumberInputDemos.prefixSuffix} />

## Negative numbers

By default, negative numbers are allowed. Set `allowNegative={false}` to allow only positive numbers.

<Demo data={NumberInputDemos.allowNegative} />

## Decimal numbers

By default, decimal numbers are allowed. Set `allowDecimal={false}` to allow only integers.

<Demo data={NumberInputDemos.allowDecimal} />

## Decimal scale

The `decimalScale` controls how many decimal places are allowed:

<Demo data={NumberInputDemos.decimalScale} />

## Fixed decimal scale

Set `fixedDecimalScale` to always display a fixed number of decimal places:

<Demo data={NumberInputDemos.fixedDecimalScale} />

## Decimal separator

Set `decimalSeparator` to change the decimal separator character:

<Demo data={NumberInputDemos.decimalSeparator} />

## Thousand separator

Set the `thousandSeparator` prop to separate thousands with a character. You can control
the grouping logic with `thousandsGroupStyle`, which accepts: `thousand`, `lakh`, `wan`, `none` values.

<Demo data={NumberInputDemos.thousandsSeparator} />

<InputSections component="NumberInput" />

<Demo data={NumberInputDemos.sections} />

## Increment/decrement controls

By default, the right section is occupied by increment and decrement buttons.
To hide them, set the `hideControls` prop. You can also use the `rightSection` prop to render anything
in the right section to replace the default controls.

<Demo data={NumberInputDemos.rightSection} />

## Increment/decrement on hold

Set the `stepHoldDelay` and `stepHoldInterval` props to define behavior when increment/decrement controls are clicked and held:

<Demo data={NumberInputDemos.hold} />

## Custom increment and decrement controls

You can get a ref with `increment` and `decrement` functions to create custom controls:

<Demo data={NumberInputDemos.handlers} />

## Error state

<Demo data={NumberInputDemos.error} />

## Disabled state

<Demo data={NumberInputDemos.disabled} />

<StylesApiSelectors component="NumberInput" />

<Demo data={NumberInputDemos.stylesApi} />

<GetElementRef component="NumberInput" refType="input" />

<InputAccessibility component="NumberInput" />
