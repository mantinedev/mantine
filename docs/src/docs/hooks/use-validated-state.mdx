---
group: 'mantine-hooks'
package: '@mantine/hooks'
title: 'use-validated-state'
category: 'state'
order: 1
slug: /hooks/use-validated-state/
description: 'Validate state and get last valid value'
import: "import { useValidatedState } from '@mantine/hooks';"
docs: 'hooks/use-validated-state.mdx'
source: 'mantine-hooks/src/use-validated-state/use-validated-state.ts'
---

import { HooksDemos } from '@mantine/demos';

## Usage

use-validated-state validates state with a given rule each time state is set. It returns an object with current validation state, last valid value and current value:

```tsx
const [{ lastValidValue, value, valid }, setValue] = useValidatedState(
  'valid',
  (value) => value === 'valid'
);

lastValidValue; // -> valid
value; // -> valid
valid; // -> true

setValue('invalid');

lastValidValue; // -> valid
value; // -> invalid
valid; // -> false
```

## Example

<Demo data={HooksDemos.useValidatedStateDemo} />

## Definition

```tsx
function useValidatedState<T>(
  initialValue: T,
  validation: (value: T) => boolean,
  initialValidationState?: boolean
): [
  {
    value: T;
    lastValidValue: T;
    valid: boolean;
  },
  (val: T) => void
];
```
