---
group: 'changelog'
title: 'Version 4.0.0'
order: 1
slug: /changelog/4-0-0/
release: https://github.com/mantinedev/mantine/releases/tag/4.0.0
date: 'January 13th, 2022'
---

import { AspectRatioDemos } from '@mantine/demos';

## Breaking changes

- Default border-radius of [Badge](https://mantine.dev/core/badge/) and [Chip](https://mantine.dev/core/chips/) components no longer defaults to `theme.radius.xl`, it was changed to support new `theme.defaultRadius`

## Default props on MantineProvider

Most of components now support default props on MantineProvider:

```tsx
import { MantineProvider, Button } from '@mantine/core';

function App() {
  return (
    <MantineProvider
      defaultProps={{
        Button: { color: 'red' },
        Badge: { size: 'xl', radius: 0 },
        // ... default props for other components
      }}
    >
      {/* By default Button will have red color */}
      <Button>Red button</Button>

      {/* Default color can be overwritten by props */}
      <Button color="blue">Blue button</Button>

      {/* By default Badge will have xl size and 0 radius */}
      <Badge>Badge</Badge>
    </MantineProvider>
  );
}
```

## Styles params on MantineProvider

You can now get component styles params in [MantineProvider](https://mantine.dev/theming/mantine-provider/) `styles` prop.
Each component that has [Styles API](https://mantine.dev/theming/styles-api/) now exports type that can be assigned to params
`ComponentNameStylesParams`, for example, `ButtonStylesParams`. This feature can be used to add more complex context styles that were not possible before:

```tsx
import { MantineProvider, ButtonStylesParams } from '@mantine/core';

function Demo() {
  return (
    <MantineProvider
      styles={{
        Button: (theme, params: ButtonStylesParams) => ({
          root: {
            // use params to calculate dynamic styles
            color: theme.colors[params.color || theme.primaryColor][1],
            padding: params.size === 'lg' ? '15px 45px' : undefined,
          },
        }),
      }}
    />
  );
}
```

## createStyles references changes

[createStyles](https://mantine.dev/theming/create-styles/) function now works differently with references.
Instead of generating unique identifiers with each `getRef` call it returns the same value for given argument:

```tsx
// before 4.0.0
// getRef('icon') !== getRef('icon')
createStyles((theme, params, getRef) => {
  const icon = getRef('icon');
  return {
    icon: { ref: icon },
    parent: {
      [`& .${icon}`]: { color: 'red' },
    },
  };
});

// in 4.0.0
// getRef('icon') === getRef('icon')
createStyles((theme, params, getRef) => ({
  icon: { ref: getRef('icon') },
  parent: {
    [`& .${getRef('icon')}`]: { color: 'red' },
  },
}));
```

## New components

New [AspectRatio](https://mantine.dev/core/aspect-ratio/) component

<Demo data={AspectRatioDemos.video} />

## Other changes

- [Text](https://mantine.dev/core/text/) component now inherits color from parent element
- [Input](https://mantine.dev/core/input/) component now handles `required` prop differently to support native browser validation
- [RichTextEditor](https://mantine.dev/others/rte/) now supports providing extra quill modules via `modules` prop
- [DateRangePicker](https://mantine.dev/dates/date-range-picker/) now displays first selected date
- [RangeCalendar](https://mantine.dev/dates/range-calendar/) now calls onChange with first selected date
- [SegmentedControl](https://mantine.dev/core/segmented-control/) component now supports vertical orientation and disabled state

## 3.6.0 â€“ 4.0.0 bug fixes

- Fix incorrect white space handling in [Progress](https://mantine.dev/core/progress/) component with labels
- Fix incorrect transform prop type in [Text](https://mantine.dev/core/text/) and associated components
- Add missing ref type in [Navbar](https://mantine.dev/core/app-shell/) component
- Hidden inputs were removed from [Select](https://mantine.dev/core/select/) and [MultiSelect](https://mantine.dev/core/multi-select/) components to prevent issues with popular form libraries
- Fix incorrect am/pm input handling in [TimeInput](https://mantine.dev/dates/time-input/) for non qwerty keyboards
- Fix incorrect initial value in [use-hash](https://mantine.dev/hooks/use-hash/) hook
