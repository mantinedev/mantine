[
  {
    "fileName": "ActiveOptionsFilter.tsx",
    "language": "tsx",
    "code": "import { useState } from 'react';\nimport { PillsInput, Pill, Input, Combobox, useCombobox } from '@mantine/core';\n\nconst groceries = ['🍎 Apples', '🍌 Bananas', '🥦 Broccoli', '🥕 Carrots', '🍫 Chocolate'];\n\nexport function ActiveOptionsFilter() {\n  const combobox = useCombobox({\n    onDropdownClose: () => combobox.resetSelectedOption(),\n    onDropdownOpen: () => combobox.updateSelectedOptionIndex('active'),\n  });\n\n  const [value, setValue] = useState<string[]>([]);\n\n  const handleValueSelect = (val: string) =>\n    setValue((current) =>\n      current.includes(val) ? current.filter((v) => v !== val) : [...current, val]\n    );\n\n  const handleValueRemove = (val: string) =>\n    setValue((current) => current.filter((v) => v !== val));\n\n  const values = value.map((item) => (\n    <Pill key={item} withRemoveButton onRemove={() => handleValueRemove(item)}>\n      {item}\n    </Pill>\n  ));\n\n  const options = groceries\n    .filter((item) => !value.includes(item))\n    .map((item) => (\n      <Combobox.Option value={item} key={item} active={value.includes(item)}>\n        {item}\n      </Combobox.Option>\n    ));\n\n  return (\n    <Combobox store={combobox} onOptionSubmit={handleValueSelect} withinPortal={false}>\n      <Combobox.DropdownTarget>\n        <PillsInput pointer onClick={() => combobox.toggleDropdown()}>\n          <Pill.Group>\n            {values.length > 0 ? (\n              values\n            ) : (\n              <Input.Placeholder>Pick one or more values</Input.Placeholder>\n            )}\n\n            <Combobox.EventsTarget>\n              <PillsInput.Field\n                type=\"hidden\"\n                onBlur={() => combobox.closeDropdown()}\n                onKeyDown={(event) => {\n                  if (event.key === 'Backspace') {\n                    event.preventDefault();\n                    handleValueRemove(value[value.length - 1]);\n                  }\n                }}\n              />\n            </Combobox.EventsTarget>\n          </Pill.Group>\n        </PillsInput>\n      </Combobox.DropdownTarget>\n\n      <Combobox.Dropdown>\n        <Combobox.Options>\n          {options.length === 0 ? <Combobox.Empty>All options selected</Combobox.Empty> : options}\n        </Combobox.Options>\n      </Combobox.Dropdown>\n    </Combobox>\n  );\n}\n"
  }
]